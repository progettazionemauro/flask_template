<!DOCTYPE html>
<html>
<head>
    <title>Object Details</title>
</head>
<body>
    <h1>Object Details</h1>
    <p><strong>ID:</strong> {{ object_id }}</p>
    <p><strong>Name:</strong> {{ object_name }}</p>
    <p><strong>File Name:</strong> {{ object_filename }}</p>
    <p><strong>Date of Review:</strong> {{ object_date_of_review }}</p>

    <!-- Add the image preview container -->
    <div id="image-preview-container"></div>

    <!-- Add the PDF preview container -->
    <div id="pdf-preview-container"></div>

    <!-- Add the "Show Image Preview" button -->
    <button onclick="showImagePreview()">Show Image Preview</button>

    <!-- Add the "Show PDF Preview" button -->
    <button onclick="showPdfPreview()">Show PDF Preview</button>

    <!-- Add any additional content or design you want to show for the object details -->

    <a href="/">Back to Object List</a>

    <!-- Add any necessary JavaScript here if needed -->
    <script>
        // Function to display image preview
        function showImagePreview() {
            var fileExtension = "{{ object_filename.split('.').pop() }}".toLowerCase();

            // Check if the file is an image (supported image types)
            if (['jpg', 'jpeg', 'png', 'gif'].includes(fileExtension)) {
                // Construct the image tag with the correct URL
                var imgTag = '<img src="/uploads/' + "{{ object_filename }}" + '" alt="Preview">';

                // Display the image preview
                document.getElementById('image-preview-container').innerHTML = imgTag;
            } else {
                // File type not supported, show an error message
                document.getElementById('image-preview-container').innerHTML = 'Preview not available for this file type.';
            }
        }

        // Function to display PDF preview
        function showPdfPreview() {
            var fileExtension = "{{ object_filename.split('.').pop() }}".toLowerCase();

            // Check if the file is a PDF
            if (fileExtension === 'pdf') {
                // Construct the iframe tag with the correct URL
                var pdfTag = '<iframe src="/uploads/' + "{{ object_filename }}" + '" width="600" height="400" type="application/pdf"></iframe>';

                // Display the PDF preview
                document.getElementById('pdf-preview-container').innerHTML = pdfTag;
            } else {
                // File type not supported, show an error message
                document.getElementById('pdf-preview-container').innerHTML = 'Preview not available for this file type.';
            }
        }

        // Call the functions to initially hide the previews on page load
        showImagePreview();
        showPdfPreview();
    </script>
</body>
</html>

